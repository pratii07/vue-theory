<template>
  <h4>PRATEEKSHA</h4>
  <div v-if="data.length">
    <ul>
      <Item v-for="item in data" :key="item.id" :name="item.brand"></Item>
    
    </ul>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import Item from './Item.vue';

const data = ref([]);

const ApiUrl = `http://site1.local:8000/api/v2/document/Vehicle?fields=["brand","image"]`;

fetch(ApiUrl, {
  method: "GET",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "token 483ee347c0fa0f9:427b7da01019459",
  },
})
.then((d) => d.json())
.then((msg) => {
  console.log("Full API Response:", msg);
  data.value = msg.data || msg; // Assign msg.data if available
})
.catch((error) => console.error("Error fetching data:", error));

</script>
\
